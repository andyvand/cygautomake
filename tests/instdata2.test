#! /bin/sh

# Test that installing under $exec_prefix is handled by install-exec.
# Testing with headers for instance.

. $srcdir/defs || exit 1

cat >Makefile.am << \EOF
# User directories.
inclexecdir = $(exec_prefix)/include
inclexec_HEADERS = my-config.h

incldatadir = $(prefix)/include
incldata_HEADERS = my-data.h

# Standard directories.
bin_DATA = data
sbin_DATA = data
libexec_DATA = data
sysconf_DATA = data
localstate_DATA = data
lib_DATA = data
pkglib_DATA = data
sbin_DATA = data
EOF

set -e
$AUTOMAKE
grep '^install-exec-am:.* install-inclexecHEADERS' Makefile.in
grep '^install-data-am:.* install-incldataHEADERS' Makefile.in
grep '^install-exec-am:.* install-sbinDATA' Makefile.in

exit 0
